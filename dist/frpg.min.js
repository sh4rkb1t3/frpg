(()=>{"use strict";var e=function(e){return parseInt(e.replace(/,/g,""))},t=!1,n="go-fishing",r=function(){return document.getElementById(n)},i=function(){return e(document.querySelector(".col-40 strong").textContent)},o=function(){return $("#baitarea").load("worker.php?go=baitarea&id="+zone_id,(function(){}))},c=function(e){e.preventDefault(),t&&(t=!1),document.querySelector(".fishcaught").click()},a={childList:!0},s=new MutationObserver((function(){var n,r=i(),c=e(document.querySelector(".col-60 strong").textContent);if(!t)return r<1?mainView.router.refreshPage():c>=3e3?$.ajax({url:"worker.php?go=chargebait",method:"POST"}).done((function(){attcatch=0,o()})):(n=document.querySelector(".fishcaught").dataset.id,attcatch=1,void $.ajax({url:"worker.php?go=fishcaught&id="+n,method:"POST"}).done((function(e){var t="You caught something!",n=$("#consoletxt");""==e&&(e="<br/>Out of bait...",t="Sorry!"),n.fadeOut(10,(function(){n.hide(),n.html("<br/><span style='font-size:11px'>"+t+"</span><br/>"+e),n.fadeIn(250)})),o(),$("#fishcount").load("worker.php?go=fishcount",(function(){})),$("#pbzone").load("worker.php?go=fishingprogressxp",(function(){var e=$(".progressbar").data("progress");myApp.setProgressbar(".progressbar",e)}))})))}));const u=function(){t=!0,function(){var e=document.querySelector(".page[data-page='fishing'] .content-block"),t=r();if(!(i()<1||!e||t)){var o=document.createElement("div");o.id=n,o.classList.add("card"),o.innerHTML='\n        <div class=\'card-content\'>\n            <div class="card-content">\n                <div class="list-block">\n                    <ul>\n                        <li>\n                            <a href="#" class="item-link">\n                                <div class="item-content">\n                                    <div class="item-inner">\n                                        <div class="item-title">Go Fishing!</div>\n                                    </div>\n                                </div>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>',o.addEventListener("click",c),e.insertBefore(o,e.childNodes[7])}}(),s.observe(document.getElementById("baitarea"),a)},d=function(){r()&&r().removeEventListener("click",c),s.disconnect()};var l=function(){return document.getElementById("stamina")},f={childList:!0},v=new MutationObserver((function(){var t=e(l().textContent),n=document.querySelector(".explorebtn");t>0&&n.click()}));const g=function(){v.observe(l(),f)},h=function(){return v.disconnect()};var p=function(){return document.querySelector(".view.view-main")},m={attibutes:!0,attributeFilter:["data-page"]},b=function(){var e=p().dataset.page;return"fishing"===e?u():"area"===e?g():(d(),void h())},w=new MutationObserver(b);const y={init:function(){w.observe(p(),m),b()}};window.frpg=y})();